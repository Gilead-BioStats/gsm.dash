---
format: 
  html:
    page-layout: custom
    embed-resources: false
filters:
  - shinylive
---

<script src="filterConsole.js"></script>

```{r}
#| output: asis
#| echo: false
filenames <- fs::dir_ls("appFiles", recurse = TRUE) |> 
  fs::path_rel(start = "appFiles")

imports <- purrr::map_chr(filenames, \(filename) {
  glue::glue(
    .open = "~[",
    .close = "]~",
    "## file: ~[filename]~",
    "{{< include appFiles/~[filename]~ >}}",
    .sep = "\n"
  )
})
paste(
  c(
    "::: {#dashboard-app}",
    "```{shinylive-r}",
    "#| standalone: true",
    "#| viewerHeight: 1000",
    imports,
    "```",
    ":::"
  ),
  collapse = "\n"
) |> 
  cat()
```

<script type="module" src="dashboard.js"></script>
